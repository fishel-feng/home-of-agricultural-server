{"version":3,"sources":["../../../app/controller/news.js"],"names":["Controller","require","module","exports","service","news","getArticleIndex","result","ctx","body","articleId","params","id","getArticleInfo","itemName","name","page","getArticleListByPage","validate","title","request","addToCollections","status","deleteFromCollections"],"mappings":"AAAA;;;;;;;;;;;;AAEA,IAAMA,aAAaC,QAAQ,KAAR,EAAeD,UAAlC;;AAEAE,OAAOC,OAAP;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;;AAEE;;;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAMyB,KAAKC,OAAL,CAAaC,IAAb,CAAkBC,eAAlB,EANzB;;AAAA;AAMUC,sBANV;;AAOI,qBAAKC,GAAL,CAASC,IAAT,GAAgBF,MAAhB;;AAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAUE;;;;AAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcUG,yBAdV,GAcsB,KAAKF,GAAL,CAASG,MAAT,CAAgBC,EAdtC;AAAA;AAAA,uBAeyB,KAAKR,OAAL,CAAaC,IAAb,CAAkBQ,cAAlB,CAAiCH,SAAjC,CAfzB;;AAAA;AAeUH,sBAfV;;AAgBI,qBAAKC,GAAL,CAASC,IAAT,GAAgBF,MAAhB;;AAhBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAmBE;;;;AAnBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBUO,wBAvBV,GAuBqB,KAAKN,GAAL,CAASG,MAAT,CAAgBI,IAvBrC;AAwBUC,oBAxBV,GAwBiB,KAAKR,GAAL,CAASG,MAAT,CAAgBK,IAxBjC;AAAA;AAAA,uBAyByB,KAAKZ,OAAL,CAAaC,IAAb,CAAkBY,oBAAlB,CAAuCH,QAAvC,EAAiDE,IAAjD,CAzBzB;;AAAA;AAyBUT,sBAzBV;;AA0BI,qBAAKC,GAAL,CAASC,IAAT,GAAgBF,MAAhB;;AA1BJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AA6BE;;;;AA7BF;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAiCI,qBAAKC,GAAL,CAASU,QAAT,CAAkB;AAChBR,6BAAW,QADK;AAEhBS,yBAAO;AAFS,iBAAlB;AAjCJ,oCAwCQ,KAAKX,GAAL,CAASY,OAAT,CAAiBX,IAxCzB,EAsCMC,SAtCN,qBAsCMA,SAtCN,EAuCMS,KAvCN,qBAuCMA,KAvCN;AAAA;AAAA,uBAyCyB,KAAKf,OAAL,CAAaC,IAAb,CAAkBgB,gBAAlB,CAAmCX,SAAnC,EAA8CS,KAA9C,CAzCzB;;AAAA;AAyCUG,sBAzCV;;AA0CI,qBAAKd,GAAL,CAASC,IAAT,GAAgB;AACda;AADc,iBAAhB;;AA1CJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AA+CE;;;;AA/CF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmDI,qBAAKd,GAAL,CAASU,QAAT,CAAkB;AAChBR,6BAAW;AADK,iBAAlB;AAIEA,yBAvDN,GAwDQ,KAAKF,GAAL,CAASY,OAAT,CAAiBX,IAxDzB,CAuDMC,SAvDN;AAAA;AAAA,uBAyDyB,KAAKN,OAAL,CAAaC,IAAb,CAAkBkB,qBAAlB,CAAwCb,SAAxC,CAzDzB;;AAAA;AAyDUY,sBAzDV;;AA0DI,qBAAKd,GAAL,CAASC,IAAT,GAAgB;AACda;AADc,iBAAhB;;AA1DJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,EAA8CtB,UAA9C","file":"news.js","sourcesContent":["'use strict';\n\nconst Controller = require('egg').Controller;\n\nmodule.exports = class NewsController extends Controller {\n\n  /**\n   * 获取新闻首页\n   */\n  async getArticleIndex() {\n    const result = await this.service.news.getArticleIndex();\n    this.ctx.body = result;\n  }\n\n  /**\n   * 查看新闻详情\n   */\n  async getArticleInfo() {\n    const articleId = this.ctx.params.id;\n    const result = await this.service.news.getArticleInfo(articleId);\n    this.ctx.body = result;\n  }\n\n  /**\n   * 分页查看新闻列表\n   */\n  async getArticleListByPage() {\n    const itemName = this.ctx.params.name;\n    const page = this.ctx.params.page;\n    const result = await this.service.news.getArticleListByPage(itemName, page);\n    this.ctx.body = result;\n  }\n\n  /**\n   * 收藏文章\n   */\n  async addToCollections() {\n    this.ctx.validate({\n      articleId: 'string',\n      title: 'string',\n    });\n    const {\n      articleId,\n      title,\n    } = this.ctx.request.body;\n    const status = await this.service.news.addToCollections(articleId, title);\n    this.ctx.body = {\n      status,\n    };\n  }\n\n  /**\n   * 取消收藏\n   */\n  async deleteFromCollections() {\n    this.ctx.validate({\n      articleId: 'string',\n    });\n    const {\n      articleId,\n    } = this.ctx.request.body;\n    const status = await this.service.news.deleteFromCollections(articleId);\n    this.ctx.body = {\n      status,\n    };\n  }\n};\n"]}