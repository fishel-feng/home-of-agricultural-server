{"version":3,"sources":["../../app/router.js"],"names":["module","exports","verifyAccount","app","middlewares","post","controller","test","upload","index","user","signUp","signIn","resetPassword","get","getUserInfo","sendVerifyCode","modifyUserInfo","modifyHeadImage","giveFollow","cancelFollow","getUserIndex","getCollections","getAttentions","getFollowings","getFollowers","getQuestions","getAnswers","getCircles","news","getArticleIndex","getArticleInfo","getArticleListByPage","addToCollections","deleteFromCollections","circle","addCircle","deleteCircle","addComment","deleteComment","giveLike","cancelLike","getAttentionList","getCircleList","getComment","getLikeList","question","addQuestion","deleteQuestion","addAnswer","deleteAnswer","attentionQuestion","getExpertList","getQuestionList","getAllQuestionList","getQuestion","getTags","io","route","controllers","login","chat","like","comment","answer","invitation","attention","follow","exit"],"mappings":"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","file":"router.js","sourcesContent":["'use strict';\n\nmodule.exports = app => {\n  const verifyAccount = app.middlewares.verifyAccount({});\n  // todo jwt配置\n  // const socketioJwt = require('socketio-jwt').authorize({\n  //   secret: 'jwtSecret',\n  //   handshake: true,\n  // });\n\n  app.post('/test/upload', app.controller.test.upload);\n  // app.get('/test/index', app.jwt, app.controller.test.index);\n  app.post('/test/index', verifyAccount, app.controller.test.index);\n\n  // 上传图片\n  app.post('/upload/:type', verifyAccount, app.controller.upload.upload);\n\n  // ************用户app接口*************\n  // ----------用户模块-----------\n  // 用户注册\n  app.post('/user/signUp', app.controller.user.signUp);\n  // 用户登录\n  app.post('/user/signIn', app.controller.user.signIn);\n  // 重置密码\n  app.post('/user/resetPassword', app.controller.user.resetPassword);\n  // 查看用户信息\n  app.get('/user/getUserInfo/:userId', app.controller.user.getUserInfo);\n  // 发送验证码\n  app.post('/user/sendVerifyCode', app.controller.user.sendVerifyCode);\n  // 修改用户资料\n  app.post('/user/modifyUserInfo', verifyAccount, app.controller.user.modifyUserInfo);\n  // 修改头像\n  app.post('/user/modifyHeadImage', verifyAccount, app.controller.user.modifyHeadImage);\n  // 关注用户\n  app.post('/user/giveFollow', verifyAccount, app.controller.user.giveFollow);\n  // 取消关注用户\n  app.post('/user/cancelFollow', verifyAccount, app.controller.user.cancelFollow);\n  // 查看‘我的’\n  app.get('/user/getUserIndex', verifyAccount, app.controller.user.getUserIndex);\n  // 查看收藏文章列表\n  app.get('/user/getCollections', verifyAccount, app.controller.user.getCollections);\n  // 查看关注问题列表\n  app.get('/user/getAttentions/:last', verifyAccount, app.controller.user.getAttentions);\n  // 查看关注的人列表\n  app.get('/user/getFollowings', verifyAccount, app.controller.user.getFollowings);\n  // 查看关注我的人列表\n  app.get('/user/getFollowers', verifyAccount, app.controller.user.getFollowers);\n  // 查看提问的问题\n  app.get('/user/getQuestions/:last', verifyAccount, app.controller.user.getQuestions);\n  // 查看回答的问题\n  app.get('/user/getAnswers/:last', verifyAccount, app.controller.user.getAnswers);\n  // 查看我发表的动态\n  app.get('/user/getCircles/:last', verifyAccount, app.controller.user.getCircles);\n\n  // ----------新闻模块-----------\n  // 查看‘首页’\n  app.get('/news/getArticleIndex', app.controller.news.getArticleIndex);\n  // 获取文章详情\n  app.get('/news/getArticleInfo/:id', app.controller.news.getArticleInfo);\n  // 获取文章列表\n  app.get('/news/getArticleListByPage/:name/:page', app.controller.news.getArticleListByPage);\n  // 收藏文章\n  app.post('/news/addToCollections', verifyAccount, app.controller.news.addToCollections);\n  // 取消收藏\n  app.post('/news/deleteFromCollections', verifyAccount, app.controller.news.deleteFromCollections);\n\n  // ----------百科模块------------\n  // app.get('/wiki/getAll', app.controller.wiki.getAll);\n\n  // ----------圈子模块------------\n  // 发表动态\n  app.post('/circle/addCircle', verifyAccount, app.controller.circle.addCircle);\n  // 删除动态\n  app.post('/circle/deleteCircle', verifyAccount, app.controller.circle.deleteCircle);\n  // 评论动态\n  app.post('/circle/addComment', verifyAccount, app.controller.circle.addComment);\n  // 删除评论\n  app.post('/circle/deleteComment', verifyAccount, app.controller.circle.deleteComment);\n  // 点赞\n  app.post('/circle/giveLike', verifyAccount, app.controller.circle.giveLike);\n  // 取消赞\n  app.post('/circle/cancelLike', verifyAccount, app.controller.circle.cancelLike);\n  // 查看关注的人动态 传末尾时间\n  app.get('/circle/getAttentionList/:last', verifyAccount, app.controller.circle.getAttentionList);\n  // 查看动态 传末尾时间\n  app.get('/circle/getCircleList/:last', app.controller.circle.getCircleList);\n  // 查看评论\n  app.get('/circle/getComment/:circleId', app.controller.circle.getComment);\n  // 查看点赞列表\n  app.get('/circle/getLikeList/:circleId', app.controller.circle.getLikeList);\n\n  // ----------问答模块------------\n  // 发起提问\n  app.post('/question/addQuestion', verifyAccount, app.controller.question.addQuestion);\n  // 删除问题\n  app.post('/question/deleteQuestion', verifyAccount, app.controller.question.deleteQuestion);\n  // 回答问题\n  app.post('/question/addAnswer', verifyAccount, app.controller.question.addAnswer);\n  // 删除回答\n  app.post('/question/deleteAnswer', verifyAccount, app.controller.question.deleteAnswer);\n  // 关注问题\n  app.post('/question/attentionQuestion', verifyAccount, app.controller.question.attentionQuestion);\n  // 获取专家列表\n  app.get('/question/getExpertList/:tag', app.controller.question.getExpertList);\n  // 分类查看问题分类列表 传末尾时间\n  app.get('/question/getQuestionList/:tag/:last', app.controller.question.getQuestionList);\n  // 查看全部问题列表 传末尾时间\n  app.get('/question/getAllQuestionList/:last', app.controller.question.getAllQuestionList);\n  // 查看问题详情\n  app.get('/question/getQuestion/:questionId', app.controller.question.getQuestion);\n  // 获取标签\n  app.get('/questions/getTags', app.controller.question.getTags);\n\n  // socket.io接口\n  // app.io.set('authorization', socketioJwt);\n  // 登录\n  app.io.route('login', app.io.controllers.io.login);\n  // 聊天\n  app.io.route('chat', app.io.controllers.io.chat);\n  // 点赞\n  app.io.route('like', app.io.controllers.io.like);\n  // 评论\n  app.io.route('comment', app.io.controllers.io.comment);\n  // 回答\n  app.io.route('answer', app.io.controllers.io.answer);\n  // 邀请回答\n  app.io.route('invitation', app.io.controllers.io.invitation);\n  // 关注问题有回答\n  app.io.route('attention', app.io.controllers.io.attention);\n  // 关注用户\n  app.io.route('follow', app.io.controllers.io.follow);\n  // 注销\n  app.io.route('exit', app.io.controllers.io.exit);\n\n  // *************管理后台接口************\n  // app.post('/admin/login', app.controller.admin.login);\n};\n"]}