{"version":3,"sources":["../../app/router.js"],"names":["module","exports","verifyAccount","app","middlewares","post","controller","upload","user","signUp","signIn","resetPassword","get","getUserInfo","sendVerifyCode","modifyUserInfo","giveFollow","cancelFollow","getUserIndex","getCollections","getAttentions","getFollowings","getFollowers","getQuestions","getAnswers","getCircles","showMessage","getRecent","applyCertification","news","getArticleIndex","getArticleInfo","getArticleListByPage","addToCollections","deleteFromCollections","wiki","getWiki","circle","addCircle","deleteCircle","addComment","deleteComment","giveLike","cancelLike","getAttentionList","getCircleList","getComment","getLikeList","question","addQuestion","deleteQuestion","addAnswer","deleteAnswer","attentionQuestion","removeAttentionQuestion","getExpertList","getQuestionList","getAllQuestionList","getQuestion","getTags","saveTags","getChat","io","route","login","chat","read","like","comment","answer","invite","follow"],"mappings":"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","file":"router.js","sourcesContent":["'use strict';\n\nmodule.exports = app => {\n  const verifyAccount = app.middlewares.verifyAccount({});\n\n  // 上传图片\n  app.post('/upload/:type', verifyAccount, app.controller.upload.upload);\n\n  // ************用户app接口*************\n  // ----------用户模块-----------\n  // 用户注册\n  app.post('/user/signUp', app.controller.user.signUp);\n  // 用户登录\n  app.post('/user/signIn', app.controller.user.signIn);\n  // 重置密码\n  app.post('/user/resetPassword', app.controller.user.resetPassword);\n  // 查看用户信息\n  app.get('/user/getUserInfo/:userId', app.controller.user.getUserInfo);\n  // 发送验证码\n  app.post('/user/sendVerifyCode', app.controller.user.sendVerifyCode);\n  // 修改用户资料\n  app.post('/user/modifyUserInfo', verifyAccount, app.controller.user.modifyUserInfo);\n  // 关注用户\n  app.post('/user/giveFollow', verifyAccount, app.controller.user.giveFollow);\n  // 取消关注用户\n  app.post('/user/cancelFollow', verifyAccount, app.controller.user.cancelFollow);\n  // 初始化个人信息\n  app.get('/user/getUserIndex', verifyAccount, app.controller.user.getUserIndex);\n  // 查看收藏文章列表\n  app.get('/user/getCollections', verifyAccount, app.controller.user.getCollections);\n  // 查看关注问题列表\n  app.get('/user/getAttentions/:last', verifyAccount, app.controller.user.getAttentions);\n  // 查看关注的人列表\n  app.get('/user/getFollowings', verifyAccount, app.controller.user.getFollowings);\n  // 查看关注我的人列表\n  app.get('/user/getFollowers', verifyAccount, app.controller.user.getFollowers);\n  // 查看提问的问题\n  app.get('/user/getQuestions/:last', verifyAccount, app.controller.user.getQuestions);\n  // 查看回答的问题\n  app.get('/user/getAnswers/:last', verifyAccount, app.controller.user.getAnswers);\n  // 查看我发表的动态\n  app.get('/user/getCircles/:last', verifyAccount, app.controller.user.getCircles);\n  // 查看我的消息\n  app.get('/user/showMessage', verifyAccount, app.controller.user.showMessage);\n  // 查看最近联系的人\n  app.get('/user/getRecent', verifyAccount, app.controller.user.getRecent);\n  // 申请专家认证\n  app.post('/user/applyCertification', verifyAccount, app.controller.user.applyCertification);\n\n  // ----------新闻模块-----------\n  // 查看‘首页’\n  app.get('/news/getArticleIndex', app.controller.news.getArticleIndex);\n  // 获取文章详情\n  app.get('/news/getArticleInfo/:id', app.controller.news.getArticleInfo);\n  // 获取文章列表\n  app.get('/news/getArticleListByPage/:name/:page', app.controller.news.getArticleListByPage);\n  // 收藏文章\n  app.post('/news/addToCollections', verifyAccount, app.controller.news.addToCollections);\n  // 取消收藏\n  app.post('/news/deleteFromCollections', verifyAccount, app.controller.news.deleteFromCollections);\n\n  // ----------百科模块------------\n  // 查询百科\n  app.get('/wiki/getWiki/:keyWord', app.controller.wiki.getWiki);\n\n  // ----------圈子模块------------\n  // 发表动态\n  app.post('/circle/addCircle', verifyAccount, app.controller.circle.addCircle);\n  // 删除动态\n  app.post('/circle/deleteCircle', verifyAccount, app.controller.circle.deleteCircle);\n  // 评论动态\n  app.post('/circle/addComment', verifyAccount, app.controller.circle.addComment);\n  // 删除评论\n  app.post('/circle/deleteComment', verifyAccount, app.controller.circle.deleteComment);\n  // 点赞\n  app.post('/circle/giveLike', verifyAccount, app.controller.circle.giveLike);\n  // 取消赞\n  app.post('/circle/cancelLike', verifyAccount, app.controller.circle.cancelLike);\n  // 查看关注的人动态 传末尾时间\n  app.get('/circle/getAttentionList/:last', verifyAccount, app.controller.circle.getAttentionList);\n  // 查看动态 传末尾时间\n  app.get('/circle/getCircleList/:last', app.controller.circle.getCircleList);\n  // 查看评论\n  app.get('/circle/getComment/:circleId', app.controller.circle.getComment);\n  // 查看点赞列表\n  app.get('/circle/getLikeList/:circleId', app.controller.circle.getLikeList);\n\n  // ----------问答模块------------\n  // 发起提问\n  app.post('/question/addQuestion', verifyAccount, app.controller.question.addQuestion);\n  // 删除问题\n  app.post('/question/deleteQuestion', verifyAccount, app.controller.question.deleteQuestion);\n  // 回答问题\n  app.post('/question/addAnswer', verifyAccount, app.controller.question.addAnswer);\n  // 删除回答\n  app.post('/question/deleteAnswer', verifyAccount, app.controller.question.deleteAnswer);\n  // 关注问题\n  app.post('/question/attentionQuestion', verifyAccount, app.controller.question.attentionQuestion);\n  //  取消关注问题\n  app.post('/question/removeAttentionQuestion', verifyAccount, app.controller.question.removeAttentionQuestion);\n  // 获取专家列表\n  app.get('/question/getExpertList/:tag', app.controller.question.getExpertList);\n  // 分类查看问题分类列表 传末尾时间\n  app.get('/question/getQuestionList/:tag/:last', app.controller.question.getQuestionList);\n  // 查看全部问题列表 传末尾时间\n  app.get('/question/getAllQuestionList/:last', app.controller.question.getAllQuestionList);\n  // 查看问题详情\n  app.get('/question/getQuestion/:questionId', app.controller.question.getQuestion);\n  // 获取全部标签\n  app.get('/question/getTags', app.controller.question.getTags);\n  // 设置tag\n  app.post('/question/saveTags', verifyAccount, app.controller.question.saveTags);\n  // 分页获取聊天记录\n  app.get('/question/getChat/:chatId/:last', verifyAccount, app.controller.question.getChat);\n\n  // socket.io接口\n  // 登录\n  app.io.route('login', app.io.controller.io.login);\n  // 聊天\n  app.io.route('chat', app.io.controller.io.chat);\n  // 消息已读\n  app.io.route('read', app.io.controller.io.read);\n  // 点赞\n  app.io.route('like', app.io.controller.io.like);\n  // 评论\n  app.io.route('comment', app.io.controller.io.comment);\n  // 回答\n  app.io.route('answer', app.io.controller.io.answer);\n  // 邀请回答\n  app.io.route('invite', app.io.controller.io.invite);\n  // 关注用户\n  app.io.route('follow', app.io.controller.io.follow);\n\n  // *************管理后台接口************\n  // app.post('/admin/login', app.controller.admin.login);\n};\n"]}